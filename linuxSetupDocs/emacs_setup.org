#+title: Installing Emacs from Source

* Building Emacs from Source
Updated for emacs 30.0.50 on Fedora 38

** Dependencies for major flags used
*** --with-ptgtk
#+begin_src shell
  sudo dnf install -y  gtk3-devel gnutls-devel ncurses-devel
#+end_src

*** --with-native-compilation
#+begin_src shell
sudo dnf install -y libgccjit-devel
#+end_src

*** --with-json
#+begin_src shell
sudo dnf install -y jansson-devel
#+end_src

*** --with-tree-sitter
#+begin_src shell
sudo dnf install -y libtree-sitter-devel
#+end_src


** Main command
#+begin_src shell
  git clone https://github.com/emacs-mirror/emacs.git
  cd emacs
  #checkout desired  tag/master/commit/etc.
  ./configure --with-native-compilation --with-pgtk  --with-json --with-tree-sitter
  make -j4
  sudo make install
#+end_src


* Emacs client
Have the Emacs client running as a daemon so quick edits in the terminal are possible[[https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html][ gnu.org/emacs-server reference]]

1. enable daemon on boot
   #+begin_src shell
     systemctl --user enable emacs.service
   #+end_src
2. Maybe need start this time (since we have already booted up)

      #+begin_src shell
     systemctl --user start emacs.service
   #+end_src

** This keeps Emacs running and saves the state
After making changes to configuration, restart the daemon:
#+begin_src shell
  systemctl --user restart emacs.service
#+end_src
